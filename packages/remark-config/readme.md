<!--+ Warning: Content inside HTML comment blocks was generated by mdat and may be overwritten. +-->

<!-- title -->

# @kitschpatrol/remark-config

<!-- /title -->

<!-- badges -->

[![NPM Package @kitschpatrol/remark-config](https://img.shields.io/npm/v/@kitschpatrol/remark-config.svg)](https://npmjs.com/package/@kitschpatrol/remark-config)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

<!-- /badges -->

<!-- description -->

**Markdown and MDX linting for @kitschpatrol/shared-config.**

<!-- /description -->

## Overview

It's a shared [Remark](https://github.com/remarkjs/remark/blob/main/packages/remark-cli/readme.md#example-config-files-json-yaml-js) config for linting.

**See [`@kitschpatrol/shared-config`](https://www.npmjs.com/package/@kitschpatrol/shared-config) for the recommended single-package approach.**

## Setup

To use just this Remark config in isolation:

1. Install the `.npmrc` in your project root. This is required for correct PNPM behavior:

   ```sh
   pnpm dlx @kitschpatrol/repo-config init
   ```

2. Add the package:

   ```sh
   pnpm add -D @kitschpatrol/remark-config
   ```

3. Add the starter `.remarkrc.js` and files to your project root, and add any customizations you'd like:

   ```sh
   pnpm exec remark-config init
   ```

## Usage

The Remark binary should be picked up automatically by VS Code plugins.

You can call it directly, but it's recommended to use the script bundled with the shared config to invoke the remark lint rules through ESLint. The [`eslint-mdx`](https://github.com/mdx-js/eslint-mdx) plugin is used to bridge these rules into ESLint and the VS Code ESLint plugin.

Integrate with your `package.json` scripts as you see fit, for example:

```json
{
  "scripts": {
    "lint": "pnpm remark . --quiet --frail"
  }
}
```

### CLI

<!-- cli-help -->

#### Command: `remark-config`

Run a command.

This section lists top-level commands for `remark-config`.

Usage:

```txt
remark-config <command>
```

| Command        | Argument | Description                                                                                   |
| -------------- | -------- | --------------------------------------------------------------------------------------------- |
| `init`         |          | Initialize by copying starter config files to your project root or to your package.json file. |
| `print-config` | `<file>` | Print the effective configuration at a certain path.                                          |

| Option              | Description         | Type      |
| ------------------- | ------------------- | --------- |
| `--help`<br>`-h`    | Show help           | `boolean` |
| `--version`<br>`-v` | Show version number | `boolean` |

_See the sections below for more information on each subcommand._

#### Subcommand: `remark-config init`

Initialize by copying starter config files to your project root or to your package.json file.

Usage:

```txt
remark-config init
```

| Option              | Description         | Type                 | Default  |
| ------------------- | ------------------- | -------------------- | -------- |
| `--location`        | TK                  | `"file"` `"package"` | `"file"` |
| `--help`<br>`-h`    | Show help           | `boolean`            |          |
| `--version`<br>`-v` | Show version number | `boolean`            |          |

#### Subcommand: `remark-config print-config`

Print the effective configuration at a certain path.

Usage:

```txt
remark-config print-config <file>
```

| Positional Argument | Description        | Type     |
| ------------------- | ------------------ | -------- |
| `file`              | TODO _(Required.)_ | `string` |

| Option              | Description         | Type      |
| ------------------- | ------------------- | --------- |
| `--help`<br>`-h`    | Show help           | `boolean` |
| `--version`<br>`-v` | Show version number | `boolean` |

<!-- /cli-help -->

## Configuration

### Avoiding errors in non-git projects

The [remark-validate-links](https://github.com/remarkjs/remark-validate-links) looks for a git remote to validate relative link paths.

If your project is not a git repository, you will receive warning from remark via eslint:

```txt
Command failed: git remote -v
fatal: not a git repository (or any of the parent directories): .git
eslint(undefined-undefined)
```

To fix this, pass the `repository: false` option in your `.remarkrc.js` file:

```js
// .remarkrc.js
import sharedConfig, { overrideRules } from '@kitschpatrol/remark-config'

const localConfig = {
  ...sharedConfig,
  plugins: overrideRules(sharedConfig.plugins, [['remarkValidateLinks', { repository: false }]]),
}

export default localConfig
```

<!-- license -->

## License

[MIT](license.txt) Â© Eric Mika

<!-- /license -->
